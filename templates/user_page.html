{% extends 'base.html' %} {% block content %}

<section class="single-recipe-section" id="top">
    <div class="row">
        <div class="col-12 p-5">
            <h2 class="text-white">{{ username }}</h2>
            <hr class="light-long-hr">
        </div>
        <div class="col-6 mb-4 text-center">
            <h5 class="text-white">Recipes</h5>
            <hr class="hr light">
            <small class="small-text text-white"> User has created <b>{{ count }}</b> recipes</small>
        </div>
        
        <div class="col-6 mb-4 text-center">
            <h5 class="text-white">Upvotes</h5>
            <hr class="hr light">
            <small class="small-text text-white"> User has a total of  <b>{{ upvotes }}</b> upvotes!</small>
        </div>
    </div>
    
    
</section>

<!-- recipe preview card section -->
<section class="recipe-section pt-4">
    <div class="text-center">
        <h3 class="card-title upvote-text">
          Top Rated Recipes  
        </h3>
    </div>
    
    <div class="row blurall" id="recipe-wrapper">
        {% for recipe in recipes %}
        <div class="col-sm-6 col-lg-3 nonblur" id="cards">
            <a class="link-text" href="/{{recipe._id}}">
                <div class="card">
                    <div class="recipe-image" style="background-image:url('/static/img/preview_imgs/{{ recipe.meal_category.lower() }}.jpg');">
                        
                    </div>
                    
                    <div class="container">
                        <div class="text-center">
                            <h4 class="card-title">{{recipe.title}}</h4>
                        </div>
                        <hr class="card-hr ">
                        <div class="div-width">
                            <!-- time icon loop -->
                            {% if recipe.time == 'Long' %}
                            <i class="far fa-clock icon3 preview-icon"></i> {% elif recipe.time == 'Medium' %}
                            <i class="far fa-clock icon2 preview-icon"></i> {% elif recipe.time == "Fast" %}
                            <i class="far fa-clock green-icon preview-icon"></i> {% endif %}

                            <!-- price icon loop -->
                            {% if recipe.price == 'Expensive' %}
                            <i class="fas fa-dollar-sign icon-margin icon3 preview-icon"></i> {% elif recipe.price == 'Medium' %}
                            <i class="fas fa-dollar-sign icon-margin icon2 preview-icon"></i> {% elif recipe.price == "Cheap" %}
                            <i class="fas fa-dollar-sign icon-margin green-icon preview-icon"></i> {% endif %}

                            <!-- vegetarian icon loop -->

                            {% if recipe.meal_category == 'Vegetarian' %}
                            <i class="fas fa-carrot green-icon preview-icon"></i> {% endif %}

                        </div>
                        <div class="div-width text-right">
                            <i class="far fa-thumbs-up text-right preview-icon"></i>
                            <span class="text-right upvote-text">{{recipe.upvotes}}</span>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>

</section>
{% endblock %}
